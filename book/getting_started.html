<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Getting Started - Rust Wrapper for ArrayFire HPC Library</title>
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    </head>
    <body class="Coal">
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = "Coal";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li><a href="getting_started.html" class="active"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li><a href="vectorization.html"><strong aria-hidden="true">2.</strong> Introduction to Vectorization</a></li><li><a href="array_and_matrix_manipulation.html"><strong aria-hidden="true">3.</strong> Array and Matrix Manipulation</a></li><li><a href="indexing.html"><strong aria-hidden="true">4.</strong> Indexing</a></li><li><a href="configuring_arrayfire_environment.html"><strong aria-hidden="true">5.</strong> Configuring ArrayFire Runtime Environment</a></li><li><a href="cuda-interop.html"><strong aria-hidden="true">6.</strong> Interoperability with CUDA</a></li><li><a href="opencl-interop.html"><strong aria-hidden="true">7.</strong> Interoperability with OpenCL</a></li><li><a href="multi-threading.html"><strong aria-hidden="true">8.</strong> Multhi-Threading</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">Rust Wrapper for ArrayFire HPC Library</h1>

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p>ArrayFire is a high performance software library for parallel computing with an easy-to-use API.
ArrayFire abstracts away much of the details of programming parallel architectures by providing
a high-level container object, the <a href="http://arrayfire.org/arrayfire-rust/arrayfire/struct.Array.html">Array</a>, that represents data stored on a CPU, GPU, FPGA,
or other type of accelerator. This abstraction permits developers to write massively parallel
applications in a high-level language where they need not be concerned about low-level optimizations
that are frequently required to achieve high throughput on most parallel architectures.</p>
<h2><a class="header" href="#supported-data-types" id="supported-data-types">Supported data types</a></h2>
<p>ArrayFire provides one generic container object, the <a href="http://arrayfire.org/arrayfire-rust/arrayfire/struct.Array.html">Array</a> on which functions and mathematical
operations are performed. The <code>Array</code> can represent one of many different <a href="http://arrayfire.org/arrayfire-rust/arrayfire/enum.DType.html">basic data types</a>:</p>
<ul>
<li><a href="http://arrayfire.org/arrayfire-rust/arrayfire/enum.DType.html">F32</a> real single-precision (<code>float</code>)</li>
<li><a href="http://arrayfire.org/arrayfire-rust/arrayfire/enum.DType.html">C32</a> complex single-precision (<code>cfloat</code>)</li>
<li><a href="http://arrayfire.org/arrayfire-rust/arrayfire/enum.DType.html">F64</a> real double-precision (<code>double</code>)</li>
<li><a href="http://arrayfire.org/arrayfire-rust/arrayfire/enum.DType.html">C64</a> complex double-precision (<code>cdouble</code>)</li>
<li><a href="http://arrayfire.org/arrayfire-rust/arrayfire/enum.DType.html">B8 </a> 8-bit boolean values (<code>bool</code>)</li>
<li><a href="http://arrayfire.org/arrayfire-rust/arrayfire/enum.DType.html">S32</a> 32-bit signed integer (<code>int</code>)</li>
<li><a href="http://arrayfire.org/arrayfire-rust/arrayfire/enum.DType.html">U32</a> 32-bit unsigned integer (<code>unsigned</code>)</li>
<li><a href="http://arrayfire.org/arrayfire-rust/arrayfire/enum.DType.html">U8 </a> 8-bit unsigned values (<code>unsigned char</code>)</li>
<li><a href="http://arrayfire.org/arrayfire-rust/arrayfire/enum.DType.html">S64</a> 64-bit signed integer (<code>intl</code>)</li>
<li><a href="http://arrayfire.org/arrayfire-rust/arrayfire/enum.DType.html">U64</a> 64-bit unsigned integer (<code>uintl</code>)</li>
<li><a href="http://arrayfire.org/arrayfire-rust/arrayfire/enum.DType.html">S16</a> 16-bit signed integer (<code>short</code>)</li>
<li><a href="http://arrayfire.org/arrayfire-rust/arrayfire/enum.DType.html">U16</a> 16-bit unsigned integer (<code>unsigned short</code>)</li>
<li><a href="http://arrayfire.org/arrayfire-rust/arrayfire/enum.DType.html">F16</a> 16-bit floating point number (<a href="https://crates.io/crates/half"><code>half::f16</code></a>)</li>
</ul>
<p>Most of these data types are supported on all modern GPUs; however, some older devices may lack
support for double precision arrays. In this case, a runtime error will be generated when the array
is constructed. </p>
<p>If not specified, <code>Array</code>s are created as single precision floating point numbers (<a href="http://arrayfire.org/arrayfire-rust/arrayfire/enum.DType.html">F32</a>).</p>
<h2><a class="header" href="#creating-and-populating-an-array" id="creating-and-populating-an-array">Creating and populating an Array</a></h2>
<p>ArrayFire <a href="http://arrayfire.org/arrayfire-rust/arrayfire/struct.Array.html">Array</a>'s represent memory stored on the device. As such, creation and population of
an array will consume memory on the device which cannot freed until the <code>array</code> object goes out of
scope. As device memory allocation can be expensive, ArrayFire also includes a memory manager which
will re-use device memory whenever possible.</p>
<p>Arrays can be created using one of the <a href="http://arrayfire.org/arrayfire-rust/arrayfire/struct.Array.html#method.new_empty">array constructors</a>. Below we show how to create 1D, 2D,
and 3D arrays with uninitialized values:</p>
<pre><code class="language-rust noplaypen">let garbageVals = Array::new_empty(Dim4::new(&amp;[3, 1, 1, 1]), DType::F32);
</code></pre>
<p>However, uninitialized memory is likely not useful in your application. ArrayFire provides several
convenient functions for creating arrays that contain pre-populated values including constants,
uniform random numbers, uniform normally distributed numbers, and the identity matrix:</p>
<pre><code class="language-rust noplaypen">// Create an array filled with constant value of 2.0 of type floating point
// The type of Array is infered from the type of the constant argument
let cnst = constant(2.0f32, Dim4::new(&amp;[5, 5, 1, 1]));
print(&amp;cnst);
</code></pre>
<pre><code class="language-rust noplaypen">println!(&quot;Create a 5-by-3 matrix of random floats on the GPU&quot;);
let dims = Dim4::new(&amp;[5, 3, 1, 1]);
let a = randu::&lt;f32&gt;(dims);
print(&amp;a);
</code></pre>
<p>As stated above, the default data type for arrays is <a href="http://arrayfire.org/arrayfire-rust/arrayfire/enum.DType.html">F32</a>(32-bit floating point number) unless
specified otherwise.</p>
<p>ArrayFire <code>Array</code>s may also be populated from data found on the host. For example:</p>
<pre><code class="language-rust noplaypen">let values: [u32; 3] = [1u32, 2, 3];
let indices = Array::new(&amp;values, Dim4::new(&amp;[3, 1, 1, 1]));
print(&amp;indices);
</code></pre>
<h2><a class="header" href="#properties-of-an-array" id="properties-of-an-array">Properties of an Array</a></h2>
<p>ArrayFire provides several functions to determine various aspects of arrays. This includes
functions to print the contents, query dimensions, and determine various other aspects of arrays.</p>
<p>The <a href="http://arrayfire.org/arrayfire-rust/arrayfire/fn.print.html">print</a> function can be used to print arrays that have already been generated or any
expression involving arrays:</p>
<pre><code class="language-rust noplaypen">let values: [f32; 3] = [1.0, 2.0, 3.0];
let indices = Array::new(&amp;values, Dim4::new(&amp;[3, 1, 1, 1]));
print(&amp;indices);
</code></pre>
<p>The dimensions of an array may be determined using either a <a href="http://arrayfire.org/arrayfire-rust/arrayfire/struct.Dim4.html">Dim4</a> object or by accessing the
dimensions directly using the <a href="http://arrayfire.org/arrayfire-rust/arrayfire/struct.Dim4.html#method.get">Dim4::get</a> and <a href="http://arrayfire.org/arrayfire-rust/arrayfire/struct.Dim4.html#method.ndims">Dim4::numdims</a> functions:</p>
<pre><code class="language-rust noplaypen">let values: [f32; 3] = [1.0, 2.0, 3.0];
let dims: Dim4 = Dim4::new(&amp;[3, 1, 1, 1]);
let indices = Array::new(&amp;values, dims);
println!(&quot;Dims {:?} with dimensions {}&quot;, dims.get(), dims.ndims());
</code></pre>
<p>In addition to dimensions, arrays also carry several properties including methods to determine the
underlying type and size (in bytes). You can even determine whether the array is empty, real/complex,
a row/column, or a scalar or a vector. For further information on these capabilities, we suggest you
consult the full documentation on the <a href="http://arrayfire.org/arrayfire-rust/arrayfire/struct.Array.html">Array</a>.</p>
<h2><a class="header" href="#writing-math-expressions-using-arrayfire" id="writing-math-expressions-using-arrayfire">Writing math expressions using ArrayFire</a></h2>
<p>ArrayFire features an intelligent Just-In-Time (JIT) compilation engine that converts expressions
using arrays into the smallest number of CUDA/OpenCL kernels. For most operations on Arrays,
ArrayFire functions like a vector library. That means that an element-wise operation, like
<code>c[i] = a[i] + b[i]</code> in C, would be written more concisely without indexing, like <code>c = a + b</code>. When
there are multiple expressions involving arrays, ArrayFire's JIT engine will merge them together.
his &quot;kernel fusion&quot; technology not only decreases the number of kernel calls, but, more importantly, avoids extraneous global memory operations.</p>
<p>Our JIT functionality extends across C API boundary and only ends when a non-JIT function is
encountered or a synchronization operation is explicitly called by the code.</p>
<p>ArrayFire provides hundreds of functions for element-wise operations. All of the standard operators
(e.g. +,-,*,/) are supported as are most transcendental functions (sin, cos, log, sqrt, etc.). Here are a few examples:</p>
<pre><code class="language-rust noplaypen">let num_rows: u64 = 5;
let num_cols: u64 = 3;
let dims = Dim4::new(&amp;[num_rows, num_cols, 1, 1]);
let a = randu::&lt;f32&gt;(dims);
let b = randu::&lt;f32&gt;(dims);
print(&amp;a);
print(&amp;b);
let c = a + b;
print(&amp;c);

//Example of *Assign traits
let mut d = randu::&lt;f32&gt;(dims);
let e     = constant(1f32, dims);
d += e;
print(&amp;d);
</code></pre>
<h2><a class="header" href="#indexing" id="indexing">Indexing</a></h2>
<p>Like all functions in ArrayFire, indexing is also executed in parallel on the OpenCL/CUDA device. To
index <code>Array</code>s you may use one or a combination of the following functions:</p>
<ul>
<li><a href="http://arrayfire.org/arrayfire-rust/arrayfire/struct.Seq.html">Seq</a> representing a linear sequence</li>
<li><a href="http://arrayfire.org/arrayfire-rust/arrayfire/struct.Seq.html">Seq::Default()</a> representing the entire dimension</li>
<li><a href="http://arrayfire.org/arrayfire-rust/arrayfire/fn.row.html">row(&amp;Array, i)</a> or <a href="http://arrayfire.org/arrayfire-rust/arrayfire/fn.col.html">col(&amp;Array, i)</a> specifying a single row/column</li>
<li><a href="http://arrayfire.org/arrayfire-rust/arrayfire/fn.rows.html">rows(&amp;Array, first,last)</a> or <a href="http://arrayfire.org/arrayfire-rust/arrayfire/fn.cols.html">cols(&amp;Array, first,last)</a> specifying a span of rows or columns</li>
</ul>
<p>Please see the <a href="./indexing.html">indexing page</a> for several examples of how to use these functions.</p>
<h2><a class="header" href="#access-to-array-memory-on-the-host" id="access-to-array-memory-on-the-host">Access to Array memory on the host</a></h2>
<p>Memory in <code>af::Array</code>s may be accessed using the <a href="http://arrayfire.org/arrayfire-rust/arrayfire/struct.Dim4.html#method.host">Array::host()</a> method. The <code>host</code> function
<em>copies</em> the data from the device and makes it available in a standard slice or similar container on
the host. As such, it is up to the developer to manage any memory returned by <code>host</code>.</p>
<!--
Lastly, if you want only the first value from an `af::array` you can use
get it using the [scalar()](\ref af::array::scalar) function:
```rust,noplaypen
```
-->
<h2><a class="header" href="#bitwise-operators" id="bitwise-operators">Bitwise operators</a></h2>
<p>In addition to supporting standard mathematical functions, Arrays that contain integer data types
also support bitwise operators including and, or, and shift etc. Operator traits for Array as well
as separate functions are also defined to support various use cases.</p>
<pre><code class="language-rust noplaypen">let dims = Dim4::new(&amp;[5, 3, 1, 1]);
let a = randu::&lt;bool&gt;(dims);
let b = randu::&lt;bool&gt;(dims);

print(&amp;a);
print(&amp;b);

let c = &amp;a | &amp;b; //Borrowing to avoid move of a and b, a | b is also valid
let d = bitand(&amp;a, &amp;b, false);

print(&amp;c);
print(&amp;d);
</code></pre>
<h2><a class="header" href="#where-to-go-for-help" id="where-to-go-for-help">Where to go for help?</a></h2>
<ul>
<li><a href="https://groups.google.com/forum/#!forum/arrayfire-users">Google Groups</a></li>
<li>ArrayFire Services: <a href="http://arrayfire.com/consulting/">Consulting</a> | <a href="http://arrayfire.com/support/">Support</a> | <a href="http://arrayfire.com/training/">Training</a></li>
<li><a href="http://arrayfire.com/blog/">ArrayFire Blogs</a></li>
<li>Email: <a href="mailto:technical@arrayfire.com">mailto:technical@arrayfire.com</a></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        
                            <a rel="next" href="vectorization.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
                    <a href="vectorization.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
